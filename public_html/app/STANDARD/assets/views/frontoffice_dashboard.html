<!-- start: DASHBOARD TITLE -->
<section id="page-title" class="padding-top-15 padding-bottom-15">
    <div class="row">
        <div class="col-sm-7">
            <!--<h1 class="mainTitle" translate="dashboard.WELCOME" translate-values="{ appName: app.name }">{{ mainTitle }}</h1>-->
            <h1 class="mainTitle" >Open Data</h1>
            <span class="mainDescription"> Datos y Estadísticas </span>
        </div>
    </div>
</section>
<!-- end: DASHBOARD TITLE -->
<!-- start: FORM VALIDATION -->
<br />
<div class="row" ng-controller="ngTabledatasetsCtrl">
    <div class="col-lg-12 col-md-12 col-xs-12 col-sm-12">        
        <section class="box">

            <div class="container-fluid container-fullw bg-white">
                <div class="panel panel-white">
                    <div class="panel-heading">
                        <h5 class="panel-title">Nueva Serie de Datos</h5>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label for="nombre">
                                Nombre:
                            </label>
                            <input ng-model="nSerie.name" type="text" class="form-control" id="nombre" placeholder="Ingrese nombre (sin espacios)">
                        </div>
                        <div class="form-group">
                            <label for="descripcion">
                                Descripcion
                            </label>
                            <input type="text" ng-model="nSerie.description" class="form-control" id="descripcion" placeholder="Ingrese descripcion">
                        </div> 
                        <div>
                            <div class="panel panel-white">
                                <div class="panel-heading">
                                    <h5 class="panel-title">Nuevo Campo</h5>
                                </div>
                                <div class="panel-body">                                  
                                    <form role="form" class="form-inline ng-pristine ng-valid">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <input placeholder="Nombre" ng-model="nCampo.columnName" class="form-control" type="text">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword2" class="sr-only">
                                                Tipo
                                            </label>
                                            <input placeholder="Tipo" readonly=""  ng-model="nCampo.columndType" value="text" id="exampleInputPassword2" class="form-control" type="text">
                                        </div>                                        
                                        <button class="btn btn-primary" type="button" ng-click="addCampo()">
                                            Agregar
                                        </button>
                                    </form>
                                </div>
                            </div>
                            <div>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th class="text-center sortable">
                                                Nombre
                                            </th>
                                            <th class="text-center sortable">
                                                Tipo
                                            </th>                                            
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="r in nSerie.fields">
                                            <td>
                                                {{r.columnName}}
                                            </td>
                                            <td>
                                                {{r.columndType}}
                                            </td>                                            
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <button type="button" ng-click="saveSerie()" class="btn btn-o btn-primary">
                            Guardar
                        </button>
                    </div>
                </div> 

                <div class="panel panel-white no-radius">
                    <div class="panel-heading border-light">
                        <h4 class="no-margin inline-block padding-5">Datasets<span class="block text-small text-left">Listado de Datasets</span></h4>
                    </div>
                    <div class="panel-body no-padding">

                        <div >
                            <div class="row margin-bottom-10">
                                <div class="form-group">
                                    <div class="col-md-2 pull-right">
                                        <p><strong>Registros por pagina:</strong> {{tableParams.count()}}</p>
                                    </div>
                                    <div class="col-md-1 pull-right">
                                        <p><strong>Pagina:</strong> {{tableParams.page()}}</p>
                                    </div>

                                </div>
                            </div>
                            <table ng-table="tableParams" class="table table-condensed table-hover">
                                <tbody ng-repeat="dataset in $data">
                                    <tr id="tr{{user.id}}" ng-class-odd="'odd'" ng-class-even="'even'">
                                        <td class="rowTd" data-title="'No'" sortable="'id'">{{dataset.id}}</td>
                                        <td class="rowTd" data-title="'Nombre'" sortable="'nameDataset'"><span>{{dataset.name}}</span><span class="text-small block text-light">{{dataset.name}}</span></td>
                                        <td class="rowTd" data-title="'Descripcion'" sortable="'nameDataset'"><span>{{dataset.description}}</span><span class="text-small block text-light">{{dataset.description}}</span></td>
                                        <!--<td class="rowTd" data-title="'Última actualización'" sortable="'updatedDataset'">{{dataset.updatedAt}}</td>-->
                                        <td class="rowTd" >
                                            <div class="cl-effect-13">
                                                <a href="#/app/backoffice/dataviewer/{{dataset.name}}">
                                                    ver más
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>